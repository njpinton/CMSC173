# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

CMSC 173 is a comprehensive educational repository for a Machine Learning course at the University of the Philippines - Cebu. It contains 14 progressive modules (Modules 0-13) covering foundational ML concepts through advanced deep learning, with professional LaTeX slides, Python implementations, interactive Jupyter notebooks, and publication-quality visualizations.

**Key Facts:**
- **Purpose:** Educational platform for university-level ML instruction
- **Status:** Production-ready (v2.1, October 2025)
- **Size:** ~2.3 GB with consolidated dependencies
- **Audience:** Research university students

## Core Architecture

### Module Organization

Each module is **self-contained** but contributes to a progressive learning pathway:

```
Foundation (0-4) → Evaluation & Prep (5-7) → Supervised Learning (8-10) →
Unsupervised Learning (11) → Deep Learning (12-13)
```

**Standard Module Structure:**
- `slides/` - LaTeX Beamer (PDF + source) with UPC branding
- `figures/` - Publication-quality PNG visualizations (200 DPI, generated by scripts)
- `scripts/` - Python code for figure generation and demonstrations
- `notebooks/` - Interactive Jupyter workshops with exercises
- `README.md` - Learning objectives, documentation, exercises

**Key Design:** Consolidated `requirements.txt` at project root covers all modules—no cross-module dependencies. Each module is independently executable.

### Presenter App

Flask web application (`presenter_app/app.py`) serves HTML presentations on port 8788. Currently configured for Modules 0, 1, 2, and 4. Routes:
- `/` - Module listing
- `/module/<number>` - Renders HTML template from `templates/module_0X.html`

**Note:** New modules require adding routes and templates.

## Common Development Commands

### Environment Setup (One-time)
```bash
python3 -m venv ml_env
source ml_env/bin/activate          # macOS/Linux
# or: ml_env\Scripts\activate       # Windows
pip install -r requirements.txt
```

### Working with Modules

**Generate all figures for a module:**
```bash
cd MODULE-NAME/
python scripts/generate_all_figures.py
```

**Run interactive workshop:**
```bash
cd MODULE-NAME/
jupyter notebook notebooks/workshop.ipynb
```

**Compile LaTeX slides to PDF:**
```bash
cd MODULE-NAME/slides/
pdflatex slides.tex
# or: latexmk -pdf slides.tex
```

### Presenter App
```bash
cd presenter_app/
python app.py
# Visit http://localhost:8788
```

### Single Script Execution
```bash
cd MODULE-NAME/
python scripts/core_concepts.py      # Or: advanced_methods.py, etc.
```

## Technology Stack

**Data Science & Visualization:**
- `numpy`, `scipy`, `pandas` - Numerical computation and data handling
- `matplotlib`, `seaborn` - Publication-quality plotting
- `scikit-learn`, `scikit-image` - Classical ML and image processing

**Deep Learning:**
- `torch`, `torchvision` - PyTorch framework and computer vision

**Interactive & Presentation:**
- `jupyter`, `ipykernel`, `nbconvert` - Notebook environment
- `Flask` - Web server for presenter app
- `LaTeX/Beamer` - Slide generation

**Development:**
- Python 3.8+
- Git version control

## Important Architecture Notes

### Figure Generation
- Scripts use matplotlib for publication-quality output
- All figures are generated from code (reproducible, not pre-baked)
- Generated figures stored in `figures/` directory
- `.gitignore` keeps figures in version control (unlike model weights)

### Git Handling
- **Tracked:** All slide PDFs, notebooks, figures (student deliverables)
- **Ignored:** Python cache (`__pycache__`, `.pyc`), LaTeX intermediates (`.aux`, `.log`), virtual environments, model weights (`.pth`)
- **Exam Materials:** `midterm_exams/` is ignored for security
- **Data Files:** CSV, NPY, pickle files are kept for reproducibility

### Module Dependencies
- Each module optionally has its own `requirements.txt`
- All module dependencies are consolidated in root `requirements.txt`
- No tight coupling between modules—safe to work on independently

### Pedagogical Flow
1. **Modules 0-4** establish mathematical foundations and data skills
2. **Modules 5-7** cover model evaluation and feature preprocessing
3. **Modules 8-10** progress through supervised learning algorithms
4. **Module 11** introduces unsupervised learning
5. **Modules 12-13** cover neural networks and advanced architectures

## Common Tasks

### Adding a New Module
1. Create folder `XX-ModuleName/` following existing naming convention
2. Create subdirectories: `slides/`, `figures/`, `scripts/`, `notebooks/`
3. Follow template in `create_ml_educational_package_prompt_v2.txt`
4. Create `slides.tex` with LaTeX Beamer template (reference existing modules)
5. Create Python scripts for figure generation: `generate_all_figures.py`, `core_concepts.py`, etc.
6. Create `workshop.ipynb` for interactive exercises
7. Write comprehensive `README.md` with learning objectives
8. Add `requirements.txt` if module needs unique dependencies
9. Ensure all figures are 200 DPI PNG files
10. To add to presenter app: update `presenter_app/app.py` routes and add template

### Updating Presenter App
- Only Modules 0, 1, 2, 4 currently have HTML presentation routes
- To add new module: add route in `app.py` and create `templates/module_0X.html`
- Modules without HTML routes remain accessible via PDF slides

### Working with Jupyter Notebooks
- Notebooks serve dual purpose: learning tool + verification that code executes
- All imports must work with consolidated `requirements.txt`
- Notebooks should be executable without external data (use toy datasets or generate)
- Use `nbconvert` to validate: `jupyter nbconvert --to notebook --execute notebook.ipynb`

## File Patterns & Conventions

**Python scripts:**
- Import from shared dependencies (numpy, sklearn, torch, etc.)
- No package-level imports—all code is standalone or uses public libraries
- Figure generation scripts save PNG to `figures/` directory
- Use consistent matplotlib styling across modules

**LaTeX slides:**
- Source in `slides/slides.tex`, compiled to `slides/slides.pdf`
- Use Beamer document class with UPC branding (reference existing modules)
- Include generated figures from `figures/` directory
- Optional `.vrb` file for verbatim code blocks

**Notebooks:**
- Named `workshop.ipynb` by convention
- Include markdown cells explaining concepts
- Code cells should execute top-to-bottom without errors
- Include exercises with solutions

## Important Caveats

1. **Python 3.8+ required** - Some packages have version constraints
2. **Large virtual environment** - Install only when needed; GPU support for torch is optional
3. **LaTeX compilation** - Requires LaTeX distribution (MacTeX, TeX Live, MiKTeX)
4. **Matplotlib backend** - May need adjustment for headless systems
5. **Figure generation can be slow** - Some scripts with complex visualizations take time
6. **Module naming inconsistency** - Git status shows reorganization in progress (spaces in new folder names)

## Version & Status

- **Current Version:** 2.1 (October 2025)
- **Status:** Production-ready
- **Recent Focus:** UI/UX improvements (Material Design), interactive HTML slides with Mermaid.js diagrams
- **Repository:** Actively maintained throughout semester
